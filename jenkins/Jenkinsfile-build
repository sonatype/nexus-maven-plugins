library('private-pipeline-library')
library('jenkins-shared')

mavenSnapshotPipeline(usePublicSettingsXmlFile: false,
        mavenVersion: 'Maven 3.5.x',
        onSuccess: { build, env ->
            notifyChat(env: env, currentBuild: build, room: 'nxrm-notifications')
        },
        onFailure: { build, env ->
            notifyChat(env: env, currentBuild: build, room: 'nxrm-notifications')
        }
        iqPolicyEvaluation: { stage ->
          nexusPolicyEvaluation iqStage: stage, iqApplication: 'nexus-maven-plugins',
              iqScanPatterns: [[scanPattern: '**/target/*.jar']]
        }
)
